  function hashPattern(pattern, i, j) {
    let h = 0
    for (let k = i; k < j; k++)
      h = h * 256 + (pattern[k]).charCodeAt(0)
    return h
  }
   
  function wuManber(text, pattern) {
 
    let m = pattern.length
    let n = text.length
 
    let s = 2
 
    let t = Math.floor(m / s)
 
    let h = new Array(s).fill(0)
    for (let i = 0; i < s; i++)
      h[i] = hashPattern(pattern, i * t, (i + 1) * t)
 
    let shift = new Array(s).fill(0)
    for (let i = 0; i < s; i++)
      shift[i] = t * (s - i - 1)
 
    let match = false
 
    for (let i = 0; i < (n - m + 1); i++) {
      for (let j = 0; j < s; j++) {
        if (hashPattern(text, i + j * t, i + (j + 1) * t) != h[j])
          break
      }
      if (text.slice(i, i + m) == pattern) {
        console.log("Match found at index" + i + "<br>")
        match = true
      }
 
      for (let j = 0; j < s; j++) {
        if (i + shift[j] < n - m + 1)
          break
        else
          i += shift[j]
      }
    }
    if (!match)
      console.log("No match found")
  }
 
  let text = "the cat sat on the mat"
  let pattern = "the"
 
  wuManber(text, pattern)